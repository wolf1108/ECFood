# ECFood
美食食譜與料理教學平台

# ECFood 食譜分享平台專案說明

這是一個基於 **ASP.NET MVC 5** 開發的互動式食譜社群平台。使用者可以分享烹飪心得、收藏喜愛的食譜，並透過評分與留言進行交流。管理者擁有專屬的後台儀表板，可即時掌握網站營運數據。

## ✨ 核心功能介紹 (.md)

### 👨‍🍳 前台功能 (一般用戶)
1.  **會員系統**：
    *   **註冊與登入**：支援 Email 註冊，密碼經過加密處理。
    *   **個人管理**：可查看與管理自己發布的食譜。
2.  **食譜瀏覽與互動**：
    *   **首頁推薦**：自動展示「熱門收藏」、「最高評價」與「最新上架」的食譜。
    *   **搜尋引擎**：支援依照「關鍵字」或「料理分類」篩選食譜。
    *   **多媒體支援**：食譜內頁自動解析 YouTube 連結，直接嵌入影片播放。
    *   **社群互動**：
        *   **收藏功能**：一鍵收藏喜愛的食譜，方便日後查閱。
        *   **評分留言**：支援 1-5 星評分機制與文字評論。

### 🛠️ 後台功能 (管理者)
1.  **數據儀表板 (Dashboard)**：
    *   提供 **30 天數據趨勢圖**，包含：用戶註冊數、食譜上傳數、收藏活躍度、留言互動數。
    *   顯示平均評分走勢分析。
2.  **會員管理**：
    *   查看所有會員列表。
    *   編輯會員資料或刪除違規帳號。
3.  **食譜管理**：
    *   檢視所有上傳的食譜。
    *   強制下架或刪除不當內容。
4.  **意見箱管理**：
    *   檢視使用者透過「聯絡我們」填寫的回饋表單。

---

## 📂 專案檔案結構與作用

本專案採用標準 MVC 架構，主要目錄說明如下：

- **`ECFood.sln`**
    - 專案的解決方案檔，請使用 Visual Studio 開啟此檔案以開始工作。

- **`App_Data/`**
    - 存放資料庫檔案 (`Database.mdf`)。本專案使用 SQL Server LocalDB，資料直接隨專案帶著走，無需額外安裝複雜的 DB 伺服器。

- **`Controllers/`** (控制器 - 核心邏輯)
    - **`HomeController.cs`**：本專案的核心控制器。
        - 包含前台邏輯（首頁 `Index`、食譜詳情 `RecipeDetails`、登入註冊）。
        - 包含後台邏輯（後台首頁 `A_home`、用戶管理 `A_users`）。

- **`Models/`** (資料模型)
    - **`DBModel.edmx`**：Entity Framework 的資料庫模型圖，定義了資料表之間的關聯。
    - **`Users.cs`**：使用者資料結構 (帳號、密碼、角色)。
    - **`Recipes.cs`**：食譜資料結構 (標題、影片連結、食材、步驟)。
    - **`Comments.cs`**：留言與評分資料。

- **`Views/`** (視圖 - 網頁畫面)
    - **`Home/`**：存放所有頁面的 HTML/Razor 檔案（如 `Index.cshtml`, `MyRecipes.cshtml`）。
    - **`Shared/`**：共用版型，例如導覽列 (Navbar) 與頁尾 (Footer) 都在 `_Layout.cshtml` 中。

- **`Web.config`**
    - 網站的設定檔，最重要的部分是 `connectionStrings`，控制如何連線到 `App_Data` 底下的資料庫。

---

## 🚀 簡單安裝與執行方式

### 1. 環境準備
請確保您的電腦已安裝以下軟體：
- **Visual Studio 2019** 或 **2022** (社群版即可)。
- 安裝時請勾選 **「ASP.NET 與網頁開發」** 工作負載。

### 2. 開啟專案
1. 到下載目錄找到資料夾 `C:\Users\AI_209\Downloads\ECFood`。
2. 雙擊 **`ECFood.sln`** 檔案，Visual Studio 將會開啟專案。

### 3. 還原套件
1. 在 Visual Studio 右側的「方案總管 (Solution Explorer)」中，對著 **方案 'ECFood'** 按滑鼠右鍵。
2. 選擇 **「還原 NuGet 套件 (Restore NuGet Packages)」**。
   - *這一步會自動下載專案所需的程式庫，修復參考錯誤。*

### 4. 執行網站
1. 確保 `App_Data` 資料夾內有 `Database.mdf` 檔案（如果不見了，可能需要重新建立或由備份還原）。
2. 按下鍵盤的 **`F5`** 鍵，或點擊上方工具列的綠色播放鍵 **「IIS Express (...)」**。
3. 瀏覽器將自動開啟，您應該能看到 ECFood 的首頁。

### 💡 常見問題
- **登入管理者帳號**：如果不確定管理者帳號，可直接註冊一個新帳號，然後到資料庫 (`App_Data/Database.mdf`) 的 `Users` 資料表，將該帳號的 `Role` 欄位手動改為 `"管理者"`。
- **資料庫連線錯誤**：若發生連線錯誤，請檢查 `Web.config` 內的 `connectionString` 是否正確指向 `App_Data`。

---
*文件產生時間：2026-01-13*
